<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nivel 1: Bah√≠a de las Vocales</title>
    <style>
        body {
            margin: 0;
            background-color: #2b3e50; /* Mismo azul oc√©ano */
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
        }

        #level-map-container {
            position: relative;
            width: 1000px;
            height: 700px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            border-radius: 20px;
            overflow: hidden;
            background: radial-gradient(circle, #4a69bd 0%, #2b3e50 100%);
        }

        /* Bot√≥n de volver */
        .back-btn {
            position: absolute;
            top: 20px;
            left: 20px;
            background: #fff;
            padding: 10px 20px;
            border-radius: 30px;
            text-decoration: none;
            color: #2b3e50;
            font-weight: bold;
            box-shadow: 0 4px 6px rgba(0,0,0,0.2);
            z-index: 100;
            border: 2px solid #2b3e50;
            transition: transform 0.2s;
        }
        .back-btn:hover { transform: scale(1.05); }

        /* SVG Ajustado */
        svg {
            width: 100%;
            height: 100%;
            /* El drop-shadow da sensaci√≥n de isla flotante */
            filter: drop-shadow(0px 20px 30px rgba(0,0,0,0.4)); 
        }

        /* Terreno */
        .land-mass {
            fill: #eebb99;
            stroke: #8d6e63;
            stroke-width: 1px; /* M√°s fino porque estamos "zoomeados" */
            stroke-linejoin: round;
        }

        /* Elementos decorativos del terreno (monta√±as, √°rboles simples) */
        .decoration {
            fill: #cd8c5c; /* Un tono m√°s oscuro de tierra */
            opacity: 0.4;
            pointer-events: none;
        }

        /* El camino */
        .path-connector {
            fill: none;
            stroke: #fff;
            stroke-width: 2px;
            stroke-dasharray: 5, 5;
            opacity: 0.6;
            pointer-events: none;
        }

        /* --- NODOS DE NIVEL --- */
        .level-node {
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            transform-box: fill-box;
            transform-origin: center;
        }

        .level-circle {
            fill: #ecf0f1;
            stroke: #7f8c8d;
            stroke-width: 1px;
            r: 6; /* Radio del c√≠rculo */
        }

        .level-number {
            font-size: 6px;
            font-weight: bold;
            fill: #2c3e50;
            text-anchor: middle;
            dominant-baseline: central;
            pointer-events: none;
        }

        /* ESTADOS DE LOS NIVELES */
        
        /* 1. Completado (Verde) */
        .level-node.completed .level-circle {
            fill: #2ecc71;
            stroke: #27ae60;
        }
        .level-node.completed .level-number { fill: white; }

        /* 2. Actual / Disponible (Amarillo pulsante) */
        .level-node.current .level-circle {
            fill: #f1c40f;
            stroke: #f39c12;
            stroke-width: 2px;
        }
        .level-node.current {
            animation: pulse 2s infinite;
        }
        
        /* 3. Bloqueado (Gris) */
        .level-node.locked {
            cursor: not-allowed;
            opacity: 0.7;
        }
        .level-node.locked .level-circle {
            fill: #95a5a6;
            stroke: #7f8c8d;
        }

        /* 4. Jefe Final (Nivel 10) */
        .level-node.boss .level-circle {
            r: 10; /* M√°s grande */
            fill: #e74c3c;
            stroke: #c0392b;
        }
        .level-node.boss .level-number { font-size: 9px; fill: white; }

        /* Efecto Hover */
        .level-node:not(.locked):hover {
            transform: scale(1.5); /* Crece bastante */
        }

        /* C√≠rculos interactivos del camino */
        .path-circle {
            fill: rgba(255, 255, 255, 0.18);
            stroke: #ecf0f1;
            stroke-width: 1.2px;
            r: 4.5;
            cursor: pointer;
            transition: transform 0.2s ease, fill 0.2s ease;
        }
        .path-circle:hover {
            fill: #f1c40f;
            transform: scale(1.25);
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        /* Panel de Informaci√≥n del Nivel */
        #level-panel {
            position: absolute;
            bottom: 30px;
            right: 30px;
            width: 250px;
            background: white;
            padding: 20px;
            border-radius: 15px;
            border-left: 8px solid #f1c40f;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
            display: none; /* Oculto al inicio */
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .btn-play {
            width: 100%;
            padding: 10px;
            background: #27ae60;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 10px;
        }
        .btn-play:hover { background: #219150; }

    </style>
</head>
<body>

    <div id="level-map-container">
        
        <a href="#" onclick="alert('Volver√≠as al Mapa Mundi')" class="back-btn">‚Üê Mapa Mundi</a>

        <!-- 
            VIEWBOX MAGIA:
            El viewBox original era "0 0 1000 700".
            El Pa√≠s 1 est√° aproximadamente entre X:50-250 y Y:450-650.
            Ajustamos el viewBox para hacer "zoom" en esa zona: "30 440 240 240".
            Esto hace que el pa√≠s ocupe todo el contenedor.
        -->
        <svg viewBox="30 440 240 240" xmlns="http://www.w3.org/2000/svg">
            
            <!-- La Tierra (Mismo path que el archivo anterior) -->
            <path class="land-mass" d="M 50 600 L 200 650 L 250 500 L 150 450 L 50 500 Z" />

            <!-- Decoraci√≥n simple: Unos tri√°ngulos como monta√±as/√°rboles integrados -->
            <path class="decoration" d="M 80 580 L 90 560 L 100 580 Z" />
            <path class="decoration" d="M 180 600 L 190 580 L 200 600 Z" />
            <path class="decoration" d="M 140 480 L 150 460 L 160 480 Z" />

            <!-- CONECTOR DE CAMINO (Dashed Line) -->
            <!-- Conecta las coordenadas de los 10 puntos -->
            <path class="path-connector" d="
                M 82 520
                L 112 550
                L 92 590
                L 142 610
                L 192 620
                L 212 570
                L 232 520
                L 202 490
                L 162 470
                L 132 480
            " />

            <!-- 
                NIVELES (PUNTOS)
                Coordenadas calculadas para estar dentro de la forma.
            -->

            <!-- Nivel 1: Completado -->
            <text x="82" y="510" class="level-number">1</text>
            <g onclick="launchPuzzleFromPath(1, 'Inicio del Viaje', 'completed')">
                <circle cx="82" cy="532" class="path-circle" />
            </g>
            <g class="level-node completed" onclick="selectLevel(1, 'Inicio del Viaje', 'completed')">
                <circle cx="82" cy="520" class="level-circle" />
            </g>

            <!-- Nivel 2: Completado -->
            <text x="112" y="540" class="level-number">2</text>
            <g onclick="launchPuzzleFromPath(2, 'El Sendero Bajo', 'completed')">
                <circle cx="112" cy="562" class="path-circle" />
            </g>
            <g class="level-node completed" onclick="selectLevel(2, 'El Sendero Bajo', 'completed')">
                <circle cx="112" cy="550" class="level-circle" />
            </g>

            <!-- Nivel 3: Actual (Jugando ahora) -->
            <text x="92" y="580" class="level-number">3</text>
            <g onclick="launchPuzzleFromPath(3, 'Cruce de Vientos', 'current')">
                <circle cx="92" cy="602" class="path-circle" />
            </g>
            <g class="level-node current" onclick="selectLevel(3, 'Cruce de Vientos', 'current')">
                <circle cx="92" cy="590" class="level-circle" />
            </g>

            <!-- Nivel 4: Bloqueado -->
            <text x="142" y="600" class="level-number">4</text>
            <g onclick="launchPuzzleFromPath(4, 'Cueva Oscura', 'locked')">
                <circle cx="142" cy="622" class="path-circle" />
            </g>
            <g class="level-node locked" onclick="selectLevel(4, 'Cueva Oscura', 'locked')">
                <circle cx="142" cy="610" class="level-circle" />
            </g>

            <!-- Nivel 5 -->
            <text x="192" y="610" class="level-number">5</text>
            <g onclick="launchPuzzleFromPath(5, 'Mirador Sur', 'locked')">
                <circle cx="192" cy="632" class="path-circle" />
            </g>
            <g class="level-node locked" onclick="selectLevel(5, 'Mirador Sur', 'locked')">
                <circle cx="192" cy="620" class="level-circle" />
            </g>

            <!-- Nivel 6 -->
            <text x="212" y="560" class="level-number">6</text>
            <g onclick="launchPuzzleFromPath(6, 'El Puente', 'locked')">
                <circle cx="212" cy="582" class="path-circle" />
            </g>
            <g class="level-node locked" onclick="selectLevel(6, 'El Puente', 'locked')">
                <circle cx="212" cy="570" class="level-circle" />
            </g>

            <!-- Nivel 7 -->
            <text x="232" y="510" class="level-number">7</text>
            <g onclick="launchPuzzleFromPath(7, 'Paso Estrecho', 'locked')">
                <circle cx="232" cy="532" class="path-circle" />
            </g>
            <g class="level-node locked" onclick="selectLevel(7, 'Paso Estrecho', 'locked')">
                <circle cx="232" cy="520" class="level-circle" />
            </g>

            <!-- Nivel 8 -->
            <text x="202" y="480" class="level-number">8</text>
            <g onclick="launchPuzzleFromPath(8, 'Lago Escondido', 'locked')">
                <circle cx="202" cy="502" class="path-circle" />
            </g>
            <g class="level-node locked" onclick="selectLevel(8, 'Lago Escondido', 'locked')">
                <circle cx="202" cy="490" class="level-circle" />
            </g>

            <!-- Nivel 9 -->
            <text x="162" y="460" class="level-number">9</text>
            <g onclick="launchPuzzleFromPath(9, 'Ante la Puerta', 'locked')">
                <circle cx="162" cy="482" class="path-circle" />
            </g>
            <g class="level-node locked" onclick="selectLevel(9, 'Ante la Puerta', 'locked')">
                <circle cx="162" cy="470" class="level-circle" />
            </g>

            <!-- Nivel 10: JEFE -->
            <text x="132" y="470" class="level-number">10</text>
            <g onclick="launchPuzzleFromPath(10, 'GUARDI√ÅN DE LA BAH√çA', 'locked')">
                <circle cx="132" cy="492" class="path-circle" />
            </g>
            <g class="level-node locked boss" onclick="selectLevel(10, 'GUARDI√ÅN DE LA BAH√çA', 'locked')">
                <circle cx="132" cy="480" class="level-circle" />
            </g>

        </svg>

        <!-- Panel Flotante de Informaci√≥n -->
        <div id="level-panel">
            <h3 id="panel-title" style="margin: 0 0 10px 0; color: #2c3e50;">Nivel X</h3>
            <p id="panel-status" style="margin: 0 0 15px 0; color: #7f8c8d; font-size: 14px;">Estado...</p>
            <div style="display: flex; gap: 5px; margin-bottom: 15px;">
                <span>‚≠ê</span><span>‚≠ê</span><span style="opacity: 0.3">‚≠ê</span>
            </div>
            <button id="btn-action" class="btn-play" onclick="startPuzzle()">Jugar Nivel</button>
        </div>

    </div>

    <script>
        let currentSelectedLevel = null;

        function selectLevel(number, title, status) {
            const panel = document.getElementById('level-panel');
            const titleEl = document.getElementById('panel-title');
            const statusEl = document.getElementById('panel-status');
            const btn = document.getElementById('btn-action');

            currentSelectedLevel = number;

            // Actualizar textos
            titleEl.innerText = `Nivel ${number}: ${title}`;
            
            // L√≥gica de estado visual
            if (status === 'locked') {
                statusEl.innerText = "üîí Este nivel est√° bloqueado.";
                statusEl.style.color = "#e74c3c";
                btn.style.background = "#95a5a6";
                btn.innerText = "Bloqueado";
                btn.disabled = true;
                btn.style.cursor = "not-allowed";
            } else if (status === 'completed') {
                statusEl.innerText = "‚úÖ ¬°Ya completado!";
                statusEl.style.color = "#27ae60";
                btn.style.background = "#2980b9";
                btn.innerText = "Rejugar";
                btn.disabled = false;
                btn.style.cursor = "pointer";
            } else {
                statusEl.innerText = "üî• Nivel actual";
                statusEl.style.color = "#f39c12";
                btn.style.background = "#27ae60";
                btn.innerText = "Jugar Ahora";
                btn.disabled = false;
                btn.style.cursor = "pointer";
            }

            // Mostrar panel
            panel.style.display = 'block';
        }

        function launchPuzzleFromPath(number, title, status) {
            selectLevel(number, title, status);

            if (status === 'locked') {
                alert(`El nivel ${number} est√° bloqueado. Completa los anteriores para desbloquearlo.`);
                return;
            }

            startPuzzle();
        }

        function startPuzzle() {
            if(currentSelectedLevel) {
                // AQU√ç ES DONDE CONECTAR√çAS CON TU JUEGO DE PUZLES
                alert(`¬°Cargando el puzle Wordle del Nivel ${currentSelectedLevel}!`);
                // Ejemplo: window.location.href = 'puzzle.html?level=' + currentSelectedLevel;
            }
        }
    </script>
</body>
</html>
